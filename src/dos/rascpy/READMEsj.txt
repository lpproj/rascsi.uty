README for RASCPY
(in Japanese, encoded with CP932 Shift_JIS)

概略
----

ASPIを利用して、RaSCSIのリモートドライブ（ブリッジデバイス）と
DOSマシン間でファイル転送を行うサンプルプログラムです。


動作環境
--------

動作にはバージョン3以上のDOSと、DOS用のASPIマネージャが必要となります。
ご利用のSCSIアダプタに付属、もしくは別途販売／配布されている当該機器用の
ASPIドライバ（Adaptec EZ-SCSIなど）をインストールしておいてください。
PC-98系の場合、SCSI BIOSを有効にしてあるならば以下のフリーのドライバが
使えるようです。
（というより、動作確認をこのドライバで行いました）

http://www.vector.co.jp/soft/dos/hardware/se000679.html


用法
----

RASCPYでできることは以下の通りです。

1. リモートドライブ上のディレクトリ表示（dir, ls）
2. リモートドライブ→ホストのファイル転送（get）
3. ホスト→リモートドライブのファイル転送（put）


ディレクトリ表示:

  RASCPY [-In] dir [-b] パス名          （DOSっぽい感じの表示）
  RASCPY [-In] ls [-1] [-a] パス名      （Unixっぽい感じの表示）

    -I    ブリッジデバイスのSCSI IDを0〜6までの数字で指定。省略時は -I6
    -b    ファイル、ディレクトリ名のみ表示
    -1    -bと（ほぼ）同じ
    -a    隠しファイル（先頭がピリオド）も表示
  パス名  表示したいパス名。ファイル名部分はDOS形式のワイルドカード使用可


リモートドライブからのファイル取得:

  RASCPY [-In] get [-f] リモートドライブ側パス名 [ホスト側パス名]

    -I    dirと同じ
    -f    ホスト側に同名ファイルがある場合も上書き確認しない

  ※パス名にワイルドカードは使えません


リモートドライブへのファイル転送:

  RASCPY [-In] put [-f] ホスト側パス名 リモートドライブ側パス名

    -I    dirと同じ
    -f    リモート側に同名ファイルがある場合も上書き確認しない

  ※パス名にワイルドカードは使えません
  ※（重要）rascsiは通常root権限で動作しており、リモートドライブに転送された
     ファイルもroot権限となります。つまり、rascsiのリモートドライブ上で
     アクセスできるファイルは「ほぼすべて」上書き可能です。
     使い方次第でRaspbianのシステムを簡単かつ不用意に破壊できてしまうため、
     パス名の記述には十分な注意を払ってください。


ソース
------

LSI-C86 3.30c試食版、Turbo C++ 1.01、OpenWatcom 1.9でコンパイルできる
ことを確認しています。
ソースの利用条件は UNLICENSE に準じます。つまり「ほぼパブリックドメイン
であり無保証」です。ライセンスの詳細は以下をご確認ください。

http://unlicense.org/
https://ja.wikipedia.org/wiki/Unlicense


履歴
----

2018-09-24
    get/putコマンドで -f オプションが使えなかった件を修正

2018-07-31
    高速化のため転送バッファサイズ増加(512->8192bytes)

2018-01-19
    初版


